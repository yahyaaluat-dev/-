<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ØªØ­Ù…ÙŠÙ„ Ø¨Ø¹Ø¯ Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† â€” ØªØ­Ù…ÙŠÙ„ Ø¨Ø±Ùˆ</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<style>
  /* ===== Ù‚Ø§Ø¹Ø¯Ø© ØªØµÙ…ÙŠÙ… Ø¨Ø³ÙŠØ·Ø© ÙˆØ¹ØµØ±ÙŠØ© (Light / Dark) ===== */
  :root{
    --bg:#f4f7fb; --card:#ffffff; --text:#0f1724; --muted:#546174;
    --accent:#2563eb; --accent-2:#7c3aed; --success:#10b981;
    --glass: rgba(255,255,255,0.6);
  }
  [data-theme="dark"]{
    --bg:#061026; --card:#07112a; --text:#e6eef8; --muted:#9fb2d1;
    --accent:#3b82f6; --accent-2:#8b5cf6; --success:#34d399;
    --glass: rgba(255,255,255,0.04);
  }
  *{box-sizing:border-box}
  body{
    margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    background:linear-gradient(180deg,var(--bg),#e9f0ff 80%);color:var(--text);
    -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:28px;
  }
  .wrap{max-width:1100px;margin:0 auto}
  header{display:flex;align-items:center;gap:12px;justify-content:space-between}
  .brand{display:flex;gap:12px;align-items:center}
  .logo{
    width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));
    display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;box-shadow:0 8px 24px rgba(37,99,235,0.14);
  }
  h1{font-size:20px;margin:0}
  .controls{display:flex;gap:10px;align-items:center}
  .search input{
    width:360px;max-width:42vw;padding:10px 12px;border-radius:10px;border:1px solid rgba(15,23,36,0.06);
    background:var(--card);color:var(--text)
  }
  .theme-toggle{
    padding:8px 10px;border-radius:10px;border:0;background:transparent;color:var(--text);cursor:pointer;
    display:flex;gap:8px;align-items:center;font-size:14px;
  }

  /* Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ù„ÙØ§Øª */
  .card{background:var(--card);border-radius:14px;padding:18px;margin-top:18px;box-shadow:0 10px 30px rgba(2,6,23,0.06)}
  .topbar{display:flex;align-items:center;justify-content:space-between;gap:12px}
  .topbar p{margin:0;color:var(--muted)}
  .list{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:14px;margin-top:14px}
  .file{
    border-radius:12px;padding:12px;background:linear-gradient(180deg,var(--glass),transparent);
    border:1px solid rgba(15,23,36,0.04);display:flex;flex-direction:column;gap:8px;
  }
  .file h3{margin:0;font-size:15px}
  .meta{font-size:13px;color:var(--muted)}
  .actions{margin-top:auto;display:flex;gap:8px;align-items:center}
  button.btn{padding:8px 12px;border-radius:10px;border:0;background:var(--accent);color:#fff;cursor:pointer}
  button.ghost{background:transparent;border:1px solid rgba(15,23,36,0.06);color:var(--text)}
  a.view{padding:8px 10px;border-radius:10px;text-decoration:none;background:transparent;border:1px solid rgba(15,23,36,0.06);color:var(--muted);font-size:13px}

  /* modal */
  .overlay{position:fixed;inset:0;background:rgba(2,6,23,0.45);display:none;align-items:center;justify-content:center;z-index:60;padding:20px}
  .modal{background:var(--card);border-radius:12px;padding:18px;max-width:840px;width:100%;box-shadow:0 20px 60px rgba(2,6,23,0.5)}
  .modal .head{display:flex;align-items:center;justify-content:space-between;gap:12px}
  .video-wrap{background:#000;border-radius:8px;padding:8px;display:flex;justify-content:center;align-items:center}
  video{max-width:100%;border-radius:8px;display:block}

  .status{font-size:13px;color:var(--muted);margin-top:8px}
  .download-link{display:inline-block;margin-top:12px;padding:10px 14px;border-radius:10px;background:var(--success);color:#fff;text-decoration:none}
  .small{font-size:13px;color:var(--muted)}

  /* footer */
  footer{margin-top:18px;color:var(--muted);font-size:13px}

  /* responsive */
  @media (max-width:720px){
    .search input{width:100%}
    header{flex-direction:column;align-items:stretch;gap:12px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">DL</div>
        <div>
          <h1>ÙŠØ­ÙŠÙ‰ Ù…Ø±Ø²ÙˆÙƒ Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù„ÙØ§Øª ØªØ´Ø®ÙŠØµ Ø§Ø¹Ø·Ø§Ù„ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ù„Ù„Ù…Ø³Ù„Ù…ÙŠÙ†</h1>
          <div class="small">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨Ø¹Ø¯ Ù…Ø´Ø§Ù‡Ø¯Ø© Ø¥Ø¹Ù„Ø§Ù† â€” ØªØ¬Ø±ÙŠØ¨ÙŠ</div>
        </div>
      </div>

      <div class="controls">
        <div class="search">
          <input id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù„Ù Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„ÙˆØµÙ..." />
        </div>
        <button id="themeToggle" class="theme-toggle" title="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹">ğŸŒ™ ÙˆØ¶Ø¹ Ø¯Ø§ÙƒÙ† / â˜€ï¸ ÙˆØ¶Ø¹ ÙØ§ØªØ­</button>
      </div>
    </header>

    <div class="card">
      <div class="topbar">
        <p>Ø§Ø¶ØºØ· "Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†" Ù„ÙØªØ­ Ø§Ù„Ù†Ø§ÙØ°Ø©. Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† (10 Ø«ÙˆØ§Ù†Ù) Ø³ÙŠÙØ¹Ù„ Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„.</p>
        <div class="small">Ù…Ù„Ø§Ø­Ø¸Ø©: ØµÙØ­Ø© ØªØ¹Ù…Ù„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ØªØµÙØ­ â€” Ø±ÙˆØ§Ø¨Ø· Ø¹Ø§Ù…Ø© Ø£Ùˆ Ø®Ø§Ø±Ø¬ÙŠØ©.</div>
      </div>

      <div id="fileList" class="list" aria-live="polite"></div>

      <footer>
        <div>Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ù„ÙØ§Øª: Ø¶ÙØ¹Ù‡Ø§ ÙÙŠ Ù…Ø¬Ù„Ø¯ <code>files/</code> Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ Ù…Ø¨Ø§Ø´Ø± ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª. Ù„Ø§ Ø£ØªØ­Ù…Ù„ Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ØºÙŠØ± Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠ.</div>
      </footer>
    </div>
  </div>

  <!-- Modal Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† -->
  <div id="overlay" class="overlay" role="dialog" aria-modal="true">
    <div class="modal">
      <div class="head">
        <div>
          <strong id="modalTitle">Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù„Ù</strong>
          <div id="modalFileName" class="small"></div>
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <button id="closeModal" class="ghost">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
      </div>

      <div style="margin-top:12px">
        <div class="video-wrap">
          <!-- Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ: Ø§Ø³ØªØ¨Ø¯Ù„Ù‡ Ø¨Ù…ØµØ¯Ø± Ø¥Ø¹Ù„Ø§Ù† Ø£Ùˆ Ø¨Ù…Ù„Ù Ø¥Ø¹Ù„Ø§Ù† Ù„Ø¯ÙŠÙƒ -->
          <video id="adVideo" controls preload="metadata" crossorigin="anonymous">
            <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4">
            Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ÙÙŠØ¯ÙŠÙˆ.
          </video>
        </div>

        <div id="modalStatus" class="status">Ø§Ù„Ø­Ø§Ù„Ø©: Ù„Ù… ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</div>

        <div id="downloadArea"></div>
      </div>
    </div>
  </div>

<script>
/* ===========================
   Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù„ÙØ§Øª â€” Ø¹Ø¯Ù‘Ù„Ù‡Ø§ Ù‡Ù†Ø§
   - href ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ†: './files/name.pdf' Ø£Ùˆ Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ Ù…Ø¨Ø§Ø´Ø± (https://...)
   - Ù…Ù„Ø§Ø­Ø¸Ø© Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©: Ø¶Ø¹ ÙÙ‚Ø· Ù…Ù„ÙØ§Øª Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ù„Ø¯ÙŠÙƒ Ø­Ù‚ Ù†Ø´Ø±Ù‡Ø§
   =========================== */
const files = [
  // Ù…Ø«Ø§Ù„ Ù…Ù„Ù Ù…Ø­Ù„ÙŠ (Ø¥Ø°Ø§ Ø±ÙØ¹Øª Ù…Ù„ÙÙ‹Ø§ Ø¯Ø§Ø®Ù„ Ù…Ø¬Ù„Ø¯ files/)
  { id:'f1', name:'Ù…Ø±Ø­Ø¨Ø§ Ù„Ø¯ÙŠÙ†Ø§ Ø¨Ø±Ù†Ø§Ù…Ø¬ autodata ', desc:'Ø¯Ù„ÙŠÙ„ PDF ØªØ¹Ù„ÙŠÙ…ÙŠ', href:'https://www.mediafire.com/file/dcho545ygc87xov/Autodata_3.45.rar' },

  // Ù…Ø«Ø§Ù„ Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ Ù…Ø¨Ø§Ø´Ø± (ØµØ§Ù„Ø­ Ø¥Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ù…Ù„Ù)
  { id:'f2', name:'Ù‡Ù†Ø§ Ù„Ø¯ÙŠÙ†Ø§ Ø±Ø§Ø¨Ø· Ù„Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ renolinkØ©', desc:'PNG Ù„Ù„ØªØ¬Ø±Ø¨Ø©', href:'https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj_jV1xx7pDIQ6YvxZjaLUsSOtBAOdpUjTXfJtTy8TRtlQq2cRiPK4aTmvt9300v9MHCiV8hwKP9UdwBvLfVUe_fFObshJWDK558ytiwoE7HqzSWSVIJS9TdbkIwB_RXeCXT2iuG-g-UxMqhATChWNcaFIGSK-lul3-KPSq7apLxKYBGrswq5J3AiFO7g/s16000/best-download-programs-from-internet.png' },

  // Ù…Ø«Ø§Ù„ Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ (Ù…Ø«Ù„ MEGA) â€” Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø£Ø¯Ù†Ø§Ù‡
  { id:'f3', name:'â€”   Ù„Ø¯ÙŠÙ†Ø§ Ø¨Ø±Ù†Ø§Ù…Ø¬ kess Ùˆ ktag Ù…Ø¬Ø§Ù†Ø§ Ù„Ù„Ù…Ø³Ù„Ù…ÙŠÙ† Ù„', desc:'Ø¥Ù† ÙƒØ§Ù† Ù‡Ø°Ø§ Ø±Ø§Ø¨Ø·Ùƒ Ø§Ù„Ø®Ø§Øµ ÙˆØªÙ…Ù„Ùƒ Ø­Ù‚ Ù†Ø´Ø±Ù‡', href:'https://mega.nz/file/wHhXUT6L#Mr1AFoJEzij-OJW8ubrBVWkp6tQgfrsFGkY3L_pZip4' },

  // Ù…Ù„Ù ØªØ¬Ø±ÙŠØ¨ÙŠ ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ù…Ø­Ù„ÙŠÙ‹Ø§ (Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±)
  { id:'f4', name:'Ù…Ø±Ø­Ø¨Ø§ Ù„Ø¯ÙŠÙ†Ø§ autocom Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© 2021', desc:'Ø³ÙŠÙ†Ø´Ø£ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±', href:'__GENERATE_DEMO__' }
];

/* ====== ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¹Ø±Ø¶ ÙˆØ§Ù„Ø¨Ø­Ø« ====== */
const fileListEl = document.getElementById('fileList');
const searchInput = document.getElementById('searchInput');
const overlay = document.getElementById('overlay');
const adVideo = document.getElementById('adVideo');
const modalTitle = document.getElementById('modalTitle');
const modalFileName = document.getElementById('modalFileName');
const modalStatus = document.getElementById('modalStatus');
const downloadArea = document.getElementById('downloadArea');
const closeModalBtn = document.getElementById('closeModal');

let currentFile = null;

// Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
function renderList(filter=''){
  fileListEl.innerHTML = '';
  const q = (filter||'').trim().toLowerCase();
  const shown = files.filter(f => (f.name+f.desc).toLowerCase().includes(q));
  if (shown.length === 0) {
    fileListEl.innerHTML = '<div style="grid-column:1/-1;color:var(--muted)">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„ÙØ§Øª ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¨Ø­Ø«</div>';
    return;
  }
  for (const f of shown) {
    const div = document.createElement('div');
    div.className = 'file';
    div.innerHTML = `
      <h3>${escapeHtml(f.name)}</h3>
      <div class="meta">${escapeHtml(f.desc)}</div>
      <div class="actions">
        <button class="btn watch" data-id="${f.id}">Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
        <a class="view" href="${escapeAttr(f.href)}" target="_blank" rel="noopener noreferrer">ÙØªØ­/Ø¹Ø±Ø¶</a>
      </div>
    `;
    fileListEl.appendChild(div);
  }
}
function escapeHtml(s){ return String(s).replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }
function escapeAttr(s){ return s ? s.replace(/"/g,'&quot;') : ''; }

renderList();

// Ø¨Ø­Ø« Ù…Ø¨Ø§Ø´Ø±
searchInput.addEventListener('input', e=> renderList(e.target.value));

// ÙØªØ­ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ ÙˆØªÙ‡ÙŠØ¦Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
fileListEl.addEventListener('click', e=>{
  const btn = e.target.closest('.watch');
  if (!btn) return;
  const id = btn.dataset.id;
  const f = files.find(x=>x.id===id);
  if (!f) return;
  openModal(f);
});

function openModal(file){
  currentFile = file;
  modalTitle.textContent = 'Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù„Ù';
  modalFileName.textContent = file.name;
  modalStatus.textContent = 'Ø§Ù„Ø­Ø§Ù„Ø©: Ù„Ù… ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†';
  downloadArea.innerHTML = '';
  overlay.style.display = 'flex';
  try{ adVideo.pause(); adVideo.currentTime = 0; }catch(e){}
  adVideo.muted = false;
  adVideo.dataset.maxSeen = 0;
}

// Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
closeModalBtn.addEventListener('click', closeModal);
overlay.addEventListener('click', e=> { if (e.target === overlay) closeModal(); });
function closeModal(){
  overlay.style.display = 'none';
  try{ adVideo.pause(); adVideo.currentTime = 0; }catch(e){}
  currentFile = null;
}

/* ===== Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¨Ø¹Ø¯ 10 Ø«ÙˆØ§Ù†Ù =====
   - Ù‡Ù†Ø§ Ù†Ø·Ø¨Ù‘Ù‚ Ù…Ù†Ø·Ù‚ Ø¨Ø³ÙŠØ·: Ø¨Ø¹Ø¯ Ø£Ù† ÙŠØµÙ„ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ Ø¥Ù„Ù‰ 10s Ø£Ùˆ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙÙŠØ¯ÙŠÙˆØŒ
     Ù†ÙØ¹Ù‘Ù„ Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„. ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ ÙŠØ¬Ø¨ Ø§Ù„ØªØ­Ù‚Ù‚ server-side Ø£Ùˆ Ø§Ø¹ØªÙ…Ø§Ø¯ SDK Ø§Ù„Ù…Ø¹Ù„Ù†.
*/
const ALLOWED_SECONDS = 10; // Ø¹Ø¯Ø¯ Ø«ÙˆØ§Ù†ÙŠ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

adVideo.addEventListener('timeupdate', () => {
  const pct = Math.floor((adVideo.currentTime / Math.max(1, adVideo.duration)) * 100);
  modalStatus.textContent = `Ø§Ù„Ø­Ø§Ù„Ø©: Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† ÙŠÙØ´Ø§Ù‡Ø¯ â€” ${pct}% (${Math.floor(adVideo.currentTime)}s)`;
  adVideo.dataset.maxSeen = Math.max(adVideo.dataset.maxSeen || 0, adVideo.currentTime);

  if (adVideo.currentTime >= ALLOWED_SECONDS && !document.getElementById('dl-now')) {
    enableDownload();
  }
});

adVideo.addEventListener('ended', () => {
  modalStatus.textContent = 'Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†';
  if (!document.getElementById('dl-now')) enableDownload();
});

// ØªÙØ¹ÙŠÙ„ Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„
function enableDownload(){
  if (!currentFile) return;
  downloadArea.innerHTML = '';

  // Ø­Ø§Ù„Ø©: Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ØªØµÙØ­
  if (currentFile.href === '__GENERATE_DEMO__'){
    const blob = new Blob([`Ù‡Ø°Ø§ Ù…Ù„Ù ØªØ¬Ø±ÙŠØ¨ÙŠ ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ø¨Ø¹Ø¯ Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†.\nØ§Ù„Ù…Ù„Ù: ${currentFile.name}`], {type:'text/plain;charset=utf-8'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.id = 'dl-now';
    a.href = url;
    a.download = currentFile.name.replace(/\s+/g,'_') + '.txt';
    a.className = 'download-link';
    a.textContent = 'ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø¢Ù† (ØªØ¬Ø±ÙŠØ¨ÙŠ)';
    a.addEventListener('click', ()=> {
      setTimeout(()=>{ URL.revokeObjectURL(url); downloadArea.innerHTML = '<div class="small">ØªÙ… ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ.</div>'; }, 1500);
    });
    downloadArea.appendChild(a);
    return;
  }

  // Ø­Ø§Ù„Ø©: Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ Ù…Ø¨Ø§Ø´Ø± (Ù…Ø«Ù„ Ø±Ø§Ø¨Ø· https://.../file.zip)
  // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¨Ø¹Ø¶ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· (Ù…Ø«Ù„ MEGA) Ù„ÙŠØ³Øª Ø±ÙˆØ§Ø¨Ø· "direct download" Ø³ÙŠØ¹Ù…Ù„ ÙØªØ­Ù‡Ø§ ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯.
  const a = document.createElement('a');
  a.id = 'dl-now';
  a.href = currentFile.href;
  a.target = '_blank';
  a.rel = 'noopener noreferrer';
  a.className = 'download-link';
  a.textContent = 'ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø¢Ù†';
  // Ø¥Ù† ÙƒØ§Ù† Ø±Ø§Ø¨Ø· Ù…Ø­Ù„ÙŠ (ÙŠØ¨Ø¯Ø£ Ø¨Ù€ ./files/) Ù†Ø¬Ø¹Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ø¨Ø§Ø´Ø±
  if (currentFile.href.startsWith('./') || currentFile.href.startsWith('/')) {
    a.download = '';
  }
  downloadArea.appendChild(a);
}

/* ========== Theme Toggle ========== */
const themeToggleBtn = document.getElementById('themeToggle');
const root = document.documentElement;
const saved = localStorage.getItem('dl_theme') || 'light';
if (saved === 'dark') root.setAttribute('data-theme','dark'); else root.removeAttribute('data-theme');

themeToggleBtn.addEventListener('click', ()=>{
  if (root.getAttribute('data-theme') === 'dark'){ root.removeAttribute('data-theme'); localStorage.setItem('dl_theme','light'); }
  else { root.setAttribute('data-theme','dark'); localStorage.setItem('dl_theme','dark'); }
});

/* ========== Ø­Ù…Ø§ÙŠØ© Ø¨Ø³ÙŠØ·Ø© client-side Ù„Ù…Ù†Ø¹ Ø§Ù„Ù‚ÙØ² Ø¥Ù„Ù‰ Ù†Ù‡Ø§ÙŠØ© (ØºÙŠØ± Ø¢Ù…Ù†Ø© Ù„Ù„Ø¥Ù†ØªØ§Ø¬) ========== */
adVideo.addEventListener('seeking', () => {
  if (adVideo.currentTime > (adVideo.dataset.maxSeen || 0) + 0.6) {
    adVideo.currentTime = Math.min(adVideo.dataset.maxSeen || 0, adVideo.currentTime);
  }
});

/* ========== ØªÙ„Ù…ÙŠØ­Ø§Øª Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø­ÙˆÙ„ MEGA ========== */
/*
  - Ø¥Ù† ÙƒÙ†Øª ØªØ±ÙŠØ¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±Ø§Ø¨Ø· MEGA (Ù…Ø«Ø§Ù„: https://mega.nz/...#KEY):
    Ø¶Ø¹ Ø§Ù„Ø±Ø§Ø¨Ø· ÙƒØ§Ù…Ù„Ø§Ù‹ ÙÙŠ Ø§Ù„Ø­Ù‚Ù„ href ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ù…Ù„Ù Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ø£Ø¹Ù„Ø§Ù‡ (f3).
  - Ù…Ù„Ø§Ø­Ø¸Ø©: Ø±ÙˆØ§Ø¨Ø· MEGA Ø¹Ø§Ø¯Ø© ØªÙØªØ­ ÙˆØ§Ø¬Ù‡Ø© MEGA ÙˆÙ„Ø§ ØªÙƒÙˆÙ† Ø¯Ø§Ø¦Ù…Ø§Ù‹ "direct-download". 
    Ø³ÙŠØ¹Ù…Ù„ Ø§Ù„Ø²Ø± Ù‡Ù†Ø§ Ø¨ÙØªØ­ Ø±Ø§Ø¨Ø· MEGA ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯ Ù„ÙŠØ¨Ø¯Ø£ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆÙÙ‚ MEGA.
  - Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ø±ÙˆØ§Ø¨Ø· ØªÙ†Ø²ÙŠÙ„ Ù…Ø¨Ø§Ø´Ø±Ø© ÙˆÙ…Ø³ØªÙ‚Ø±Ø© (presigned URLs) ØªØ­ØªØ§Ø¬ Ø®Ø§Ø¯Ù…Ø§Ù‹ ÙŠÙ‚Ø¯Ù… Ø±ÙˆØ§Ø¨Ø· Ù…ÙˆÙ‚ØªØ©.
*/

</script>
</body>
</html>
